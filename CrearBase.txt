
CREATE TABLE Ingredientes(id_ingrediente INTEGER NOT NULL, nombre_ingrediente VARCHAR2(30), exitencia_inventario FLOAT, costo_compra FLOAT, id_proveedor INTEGER, PRIMARY KEY (id_ingrediente))

CREATE TABLE Productos(id_producto INTEGER NOT NULL, nombre VARCHAR2(50) NULL, precio_unitario FLOAT NULL, cantidad_disponible INTEGER NOT NULL, PRIMARY KEY (id_producto))

CREATE TABLE Pedidos(id_pedido INTEGER NOT NULL, fecha_pedido DATE NULL , total FLOAT NULL , fecha_entrega DATE NULL , estado VARCHAR(15) NULL , PRIMARY KEY (id_pedido))

CREATE TABLE Pedidos_Producto(id_pedido INTEGER NOT NULL, id_producto INTEGER NOT NULL, cantidad INTEGER NULL , PRIMARY KEY (id_pedido, id_producto))

CREATE TABLE Proveedores(id_proveedor INTEGER NOT NULL, nombre_proveedor VARCHAR2(30) NULL, direccion_proveedor VARCHAR2(50) NULL, telefono INTEGER NULL, ciudad VARCHAR2(30) NULL, PRIMARY KEY (id_proveedor))

CREATE TABLE Ordenes_Ingredientes(id_orden INTEGER NOT NULL, id_proveedor INTEGER NULL, id_ingrediente INTEGER NULL, cantidad FLOAT NULL, fecha_pedido DATE NULL, total_compra FLOAT NULL, PRIMARY KEY (id_orden))

CREATE TABLE Recetas(id_receta INTEGER NOT NULL, id_producto INTEGER NULL , tiempo_coccion INTEGER NULL , cantidad_hecha INTEGER NULL , descripcion VARCHAR(200) NULL , imagen BLOB NULL , PRIMARY KEY (id_receta))

CREATE TABLE Ingredientes_Recetas(id_ingrediente INTEGER NOT NULL, id_receta INTEGER NOT NULL, cantidad_ingred FLOAT NULL,PRIMARY KEY (id_ingrediente,id_receta))

CREATE TABLE Usuarios(id_usuario INTEGER NOT NULL, usuario VARCHAR2(20) NULL, contrasena VARCHAR2(30) NULL, PRIMARY KEY (id_usuario))

ALTER TABLE Ingredientes ADD (FOREIGN KEY (id_proveedor) REFERENCES Proveedores (id_proveedor) ON DELETE SET NULL)

ALTER TABLE Ordenes_Ingredientes ADD (FOREIGN KEY (id_proveedor) REFERENCES Proveedores (id_proveedor) ON DELETE SET NULL)

ALTER TABLE Ordenes_Ingredientes ADD (FOREIGN KEY (id_ingrediente) REFERENCES Ingredientes (id_ingrediente) ON DELETE SET NULL)

ALTER TABLE Recetas ADD (FOREIGN KEY (id_producto) REFERENCES Productos (id_producto) ON DELETE CASCADE)

ALTER TABLE Ingredientes_Recetas ADD (FOREIGN KEY (id_ingrediente) REFERENCES Ingredientes (id_ingrediente))

ALTER TABLE Ingredientes_Recetas ADD (FOREIGN KEY (id_receta) REFERENCES Recetas (id_receta))

ALTER TABLE Pedidos_Producto ADD (FOREIGN KEY (id_pedido) REFERENCES Pedidos (id_pedido))

ALTER TABLE Pedidos_Producto ADD (FOREIGN KEY (id_producto) REFERENCES Productos (id_producto))

create sequence usuarios_seq start with 1 increment by 1

insert into usuarios(id_usuario, usuario, contrasena) values (usuarios_seq.nextval, 'administrador', 'panaderia1234')

insert into usuarios(id_usuario, usuario, contrasena) values(usuarios_seq.nextval, 'vendedor', 'panes')

create sequence product_seq start with 1 increment by 1

insert into productos(id_producto, nombre, precio_unitario, cantidad_disponible) values(product_seq.nextval, 'Brioche Fino', 10, 20)

insert into productos(id_producto, nombre, precio_unitario, cantidad_disponible) values(product_seq.nextval, 'Brioche semi-fina', 8.5, 50)

insert into productos(id_producto, nombre, precio_unitario, cantidad_disponible) values(product_seq.nextval, 'Cachito Salado', 3, 60)

insert into productos(id_producto, nombre, precio_unitario, cantidad_disponible) values(product_seq.nextval, 'Calados', 8.3, 15)

insert into productos(id_producto, nombre, precio_unitario, cantidad_disponible) values(product_seq.nextval, 'Corona de Pascua', 100, 2)

insert into productos(id_producto, nombre, precio_unitario, cantidad_disponible) values(product_seq.nextval, 'Crorissant Marcelino', 15, 14)

insert into productos(id_producto, nombre, precio_unitario, cantidad_disponible) values(product_seq.nextval, 'Croissant refrigerado', 8, 15)

insert into productos(id_producto, nombre, precio_unitario, cantidad_disponible) values(product_seq.nextval, 'Galleta quesadilla', 6, 10)

insert into productos(id_producto, nombre, precio_unitario, cantidad_disponible) values(product_seq.nextval, 'Pan con Avena', 3, 25)

insert into productos(id_producto, nombre, precio_unitario, cantidad_disponible) values(product_seq.nextval, 'Cerdito', 7, 35)
